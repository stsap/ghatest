
name: 
on:
  pull_request:
    branches:
      - main
    types: [closed]
    
jobs:
  tag:
    runs-on: ubuntu-latest
    if: github.event.pull_request.merged == true
    steps:
      - name: env
        run: |
          echo '1' $GITHUB_REF
          echo '2' ${{ github.ref }}
          echo '3' ${{ github.ref_name }}
          echo '4' ${{ github.head_ref }}
          echo '5' ${{ github.base_ref }}
          git remote set-url origin https://github-actions:${GITHUB_TOKEN}@github.com/${GITHUB_REPOSITORY}
          git config --global user.name "${GITHUB_ACTOR}"
          git config --glob√•l user.email "${GITHUB_ACTOR}@users.noreply.github.com"
          git checkout -b ${{ github.head_ref }} origin/${{ github.head_ref }}
          git pull
          git mv test4 test3
          git add .
          git commit -m "file name changed"
          git push origin HEAD:${{ github.head_ref }}
          git checkout ${{ github.base_ref }}
          git merge ${{ github.head_ref }}
          git push origin ${{ github.base_ref }}
